<div class='container'>
  <div class='row'>
    
    <div class="mx-auto col-sm-12 col-md-9 col-lg-9 px-5 px-sm-0">
      <h1>投稿編集</h1>
      <%= form_with model: @post do |f| %>
      <div class="field">
        <%= f.label :title,'タイトル' %><br />
        <%= f.text_field :title, autofocus: true, autocomplete: "title", class: 'form-control' %>
        <% if @post.errors.include?(:title) %>
          <p style="color: red;"><%= @post.errors.full_messages_for(:title).first %>
        <% end %>
      </div>
      
      <div class="field">
        <%= f.label :material,'材料' %><br />
        <%= f.text_area :material, autocomplete: "material", class: 'form-control' %>
        <% if @post.errors.include?(:material) %>
          <p style="color: red;"><%= @post.errors.full_messages_for(:material).first %>
        <% end %>
      </div>
      
      <div class="field">
        <%= f.label :body,'作り方' %><br />
        <%= f.text_area :body, autocomplete: "body", class: 'form-control' %>
        <% if @post.errors.include?(:body) %>
          <p style="color: red;"><%= @post.errors.full_messages_for(:body).first %>
        <% end %>
      </div>
      
      <div class="field">
        <%= f.label :genre_id,'ジャンル' %><br />
        <%= f.collection_select :genre_id, Genre.all, :id, :name, { prompt: '選択してください' }, class: 'form-control' %>
      </div>
      
      <div class="form-group">
        <%= f.select :status, Post.statuses.keys.map { |k| [t("enums.post.status.#{k}"),k]}, {}, {class: "custom-select w-25"} %>
      </div>
        <%= f.submit "変更を保存する", class: 'btn btn-sm btn-success mx-1' %>
      </div>
      
      <div>
        <%= link_to '削除する', @post, method: :delete, data: { confirm: '本当に消しますか？' }, class: "btn btn-sm btn-danger destroy_post_#{@post.id}"%>
      </div>
      
      <% end %>
      
    </div>
  </div>
</div>
