<div class='container'>
  <div class='row'>
    
    <div class="mx-auto col-sm-12 col-md-9 col-lg-9 px-5 px-sm-0">
      <h1>会員ページ</h1>
      <table class='table'>
        <tr><%= image_tag @user.get_profile_image(100,100) %></tr>
        <tr>
	      <th>名前</th>
	      <th><%= @user.name %></th>
        </tr>
        <tr>
	      <th>自己紹介</th>
	      <th><%= @user.introduction %></th>
        </tr>
        <tr>
          <th>フォロー</th>
          <th>
            <%= link_to public_user_follow_path(@user) do %> 
              <%= @follow.count %>
            <% end %>
          </th>
        </tr>
        <tr>
          <th>フォロワー</th>
          <th>
            <%= link_to follower_public_user_path(@user) do %> 
              <%= @follower.count %>
            <% end %>
          </th>
        </tr>
      </table>
      
      <% if user_signed_in? && current_user.id != @user.id %>
        <div id="follow-ajax">
          <%= render "relationships/follow", user: @user %>
        </div>
      <% end %>
      
      <% if current_user == @user %>
        <div class='row'>
          <%= link_to '編集する', edit_public_user_path(@user), class: "btn btn-secondary edit__public_user_#{@user.id}" %>
        </div>
      <% end %>
      
      <h4>自分の投稿</h4>
      <table class='table table-hover table-inverse'>
        <thead>
          <tr>
            <th>タイトル</th>
            <th colspan="3"></th>
          </tr>
        </thead>
        <tbody>
        <% @posts.each do |post| %>
          <tr>
            <td><%= link_to post.title, post_path(post.id), class: "post_#{post.id}" %></td>
            <td>コメント数: <%= post.comments.count %></td>
            <td id="favorite_btn_<%= post.id %>">
            <%= render "favorites/favorite", post: post %>
            </td>
          </tr>
        <% end %>
        </tbody>
      </table>
      
    </div>
      
    <%= render 'layouts/sidebar', genres: @genres %>
    
  </div>
</div>

